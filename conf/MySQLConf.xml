<?xml version="1.0" encoding="UTF-8" ?>
<!-- No copyright or license for configuration file, details here are not considered a creative work. -->

<!-- NOTE: for default settings, examples, and comments see the MoquiDefaultConf.xml file at
    https://github.com/moqui/moqui-framework/blob/master/framework/src/main/resources/MoquiDefaultConf.xml -->
<moqui-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/moqui-conf-2.0.xsd">

    <!-- these can be java properties or system environment variables -->
    <default-property name="ds_transactional_host" value="127.0.0.1"/>
    <default-property name="ds_transactional_port" value="3306"/>
    <default-property name="ds_transactional_database" value="MoquiDEFAULT"/>
    <default-property name="ds_transactional_user" value="moqui"/>
    <default-property name="ds_transactional_password" value="moqui"/>

    <tools empty-db-load="all"/>

    <server-stats stats-skip-condition="pathInfo?.startsWith('/rpc') || pathInfo?.startsWith('/rest') || pathInfo?.startsWith('/status')"/>

    <entity-facade crypt-pass="MoquiDefaultPassword:CHANGEME">
        <datasource group-name="transactional" database-conf-name="mysql" schema-name="">
            <inline-jdbc><xa-properties user="${ds_transactional_user}" password="${ds_transactional_password}" pinGlobalTxToPhysicalConnection="true"
                    serverName="${ds_transactional_host}" port="${ds_transactional_port}" databaseName="${ds_transactional_database}" autoReconnectForPools="true"
                    useUnicode="true" encoding="UTF-8"/></inline-jdbc>
        </datasource>
    </entity-facade>
</moqui-conf>
